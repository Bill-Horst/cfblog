<p id="notice"><%= notice %></p>

<% if @first_three_posts %>
<div id="carousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <% @first_three_posts.each_with_index do |post, index| %>
    <li data-target="#carousel" data-slide-to="<%= index %>" class="<%= "active" if post == @first_three_posts.first %>"></li>
    <% end %>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <% @first_three_posts.each do |post| %>
    <div class="item<%= " active" if post == @first_three_posts.first %>">
      <%= image_tag(post.imageurl, class: 'carousel-image') %>
      <div class="carousel-caption">
        <%= post.title %>
      </div>
      <%= link_to 'Read', post, :class => "btn btn-success carousel-read-post-button" %>
    </div>
    <% end %>
  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#carousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#carousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div> <!-- end of carousel -->
<% end %>

<hr />

<div class='container'>

  <div class="row">

    <div class="col-md-10">
      <div class='text-center'>
        <% @posts.each do |post| %>
        <div class='col-md-6 individual-post-display'>
          <% if post.imageurl %>
          <%= link_to image_tag(post.imageurl, class: 'img-responsive post-image'), post %>
          <% end %>
          <h2><%= post.title %></h2>
          <div class='caption'>
            <h4 class=''>"<%= post.subtitle %>"</h4>
          </div>
          <% if signed_in? && current_user.admin? %>
          <div class='row'>
            <div class='col-sm-6'>
              <%= link_to 'Show', post, :class => "btn btn-info" %>
              <%= link_to 'Edit', edit_post_path(post), :class => "btn btn-warning" %>
              <%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-danger" %>
            </div>
          </div>
          <% end %>
        </div>
        <% end %>
      </div>
    </div>

    <div class="col-md-2">
      <h1>Categories</h1>
      <% @categories.each do |category| %>
      <p><%= link_to category.name, posts_path(:category => category.id) %></p>
      <% end %>

      <h1>Tags</h1>
      <% @tags.each do |tag| %>
      <span><%= link_to tag.name, posts_path(:tag => tag.id) %> </span>
      <% end %>
    </div>

  </div>

</div>

<% if signed_in? && current_user.admin? %>
<%= link_to 'New Post', new_post_path %>
<% end %>
